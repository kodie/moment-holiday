//! moment-holiday.js
//! version : 1.5.1
//! author : Kodie Grantham
//! license : MIT
//! https://github.com/kodie/moment-holiday
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("moment")):"function"==typeof define&&define.amd?define(["moment"],t):t((e=e||self).moment)}(this,function(moment){moment=moment&&moment.hasOwnProperty("default")?moment.default:moment;var parserExtensions=[],parseHoliday=function(e,t,a){for(var r,o=[],n=0;n<parserExtensions.length;n++){var i=parserExtensions[n](e,t);!i&&!1!==i||(r=i)}if(!1===r)return!1;if("string"==typeof r?t=r:r&&(o=r),!moment.isMoment(o)&&!o.length&&t.charAt(0).match(/[0-9(]/)){var s=!1,d=t.split("|");1<d.length&&(s=!0),2<d.length&&(d=[d[0],d[1]]);for(n=0;n<d.length;n++){var y=moment(e),l=d[n].split("/");if(1===l.length||2===l.length&&"("!==l[1].charAt(0)&&4===l[1].length){var f=d[n];n=-1,d=[];for(var h=1;h<13;h++)d.push(h+"/"+f)}else if(2<l.length&&y.year(parseInt(l[2])),y.month(parseInt(l[0])-1),"("===l[1].charAt(0)){var m=l[1].slice(1,-1).split(","),u=parseInt(m[0]),c=parseInt(m[1]),g=moment(y).startOf("month"),v=moment(y).endOf("month").diff(g,"days")+1,p=[];if(m[1]&&"["===m[1].charAt(0)){var k=!0;(c=parseInt(m[1].slice(1,-1)))<0&&(k=!1,c=parseInt(m[1].slice(2,-1))),g=moment(y).date(c);for(var w=0;w<7;w++){if(g.day()===u){o.push(moment(g));break}k?g.add(1,"day"):g.subtract(1,"day")}continue}for(var b=0;b<v;b++)g.day()===u&&p.push(moment(g)),g.add(1,"day");if(!c){o=o.concat(p);continue}y=c<0?p[p.length+c]:p[c-1],o.push(y)}else o.push(y.date(l[1]))}if(s&&1<o.length){var O=o[1].diff(o[0],"days");if(1<O){var H=moment(o[0]);o=[o[0]];for(n=0;n<O;n++)H.add(1,"day"),o.push(moment(H))}}}o=arrayify(o);for(n=0;n<o.length;n++)moment.isMoment(o[n])?(a&&(0===o[n].day()&&(o[n]=o[n].add(1,"day")),6===o[n].day()&&(o[n]=o[n].subtract(1,"day"))),o[n]=o[n].startOf("day")):delete o[n];return!!o.length&&(1===o.length?o[0]:o)},keywordMatches=function(e,t){var a=[];t=arrayify(t);for(var r=0;r<t.length;r++){var o=e.match(new RegExp(t[r],"gi"));o&&(a=a.concat(o))}return a},findHoliday=function(e,t,a,r,o){var n={},i=[],s={};if(h=o||moment.holidays.active,h.hasOwnProperty(t))i.push(t);else if(fk=findKey(t,h))i.push(fk);else{for(var d in h)if(h.hasOwnProperty(d)){if(n[d]=keywordMatches(t,d.split(/[\s,.-]+/).filter(function(e){return 2<e.length})).length,h[d].keywords_n)if(keywordMatches(t,h[d].keywords_n).length){n[d]=0;continue}if(h[d].keywords_y){var y=keywordMatches(t,h[d].keywords_y);if(!y||y.length!==h[d].keywords_y.length){n[d]=0;continue}n[d]+=y.length}if(h[d].keywords){var l=keywordMatches(t,h[d].keywords);if(!l)continue;n[d]+=l.length}}for(var f in n)n[f]&&n.hasOwnProperty(f)&&(i.length&&n[f]!==n[i[0]]?n[f]>n[i[0]]&&(i=[f]):i.push(f))}if(!i.length)return!1;if(!1===r)return i;for(var m=0;m<i.length;m++){var u=parseHoliday(e,h[i[m]].date,a);u&&(s[i[m]]=u)}return!!Object.keys(s).length&&s},findHolidays=function(e,t,a,r,o){var n=[];r&&(n={}),t=arrayify(t),o=o||moment.holidays.active;for(var i=0;i<t.length;i++){var s=findHoliday(e,t[i],a,r,o);s&&(n=r?merge(n,s):n.concat(s))}return n},getAllHolidays=function(e,t){var a=moment.holidays.active,r={};for(var o in a)a.hasOwnProperty(o)&&(td=parseHoliday(e,a[o].date,t))&&(r[o]=td);return r},compileRegions=function(e,t){var a=moment.holidays[e],r={};if(a)for(var o=0;o<t.length;o++){var n=t[o].toLowerCase(),i=moment.holidays[e+"/"+n];for(var s in i={},a)if(a.hasOwnProperty(s)){var d=a[s].regions||[],y=a[s].regions_n||[];d.length&&d.join().toLowerCase().split(),y.length&&y.join().toLowerCase().split(),(!d.length&&!y.length||d.length&&~d.indexOf(n)||y.length&&!~y.indexOf(n))&&(i[s]=a[s])}i&&(r=merge(r,i))}return!!Object.keys(r).length&&r},getLocale=function(locale){return regions=locale.split("/"),locale=regions[0].toLowerCase().replace(" ","_"),regions.shift(),moment.holidays[locale]||"undefined"==typeof require||("undefined"!=typeof process&&"test"==process.env.NODE_ENV?eval("require")("./locale/"+locale):require("../locale/"+locale)),!!moment.holidays[locale]&&(regions.length?compileRegions(locale,regions):moment.holidays[locale])},holidayLoop=function(e,t,a,r){t=t||1;for(var o=getAllHolidays(e,r),n=moment(e),i=e.year(),s=[],d=0;d<t;d++)for(var y=moment(n);;){var l=!1;if(a?y.add(1,"day"):y.subtract(1,"day"),y.year()!==i&&(o=getAllHolidays(y,r),i=y.year()),!Object.keys(o).length){l=!0;break}for(var f in o)if(o.hasOwnProperty(f)){for(var h=!1,m=arrayify(o[f]),u=0;u<m.length;u++)if(y.isSame(m[u],"day")){s.push(m[u]),n=moment(y),h=!0;break}if(h){l=!0;break}}if(l)break}return!!s.length&&(1===s.length?s[0]:s)},arrayify=function(e){return e&&e.constructor!==Array?[e]:e},findKey=function(e,t){t.constructor===Object&&(t=Object.keys(t));for(var a=0;a<t.length;a++)if(e.toLowerCase()===t[a].toLowerCase())return t[a];return!1},merge=function(e,t){return Object.assign({},e,t)};return moment.fn.holiday=function(e,t){moment.holidays.active;var a={},r=!1;if(e){e.constructor!==Array&&(r=!0,e=[e]);for(var o=0;o<e.length;o++)(td=findHoliday(this,e[o],t))&&(a=Object.assign({},a,td))}else a=getAllHolidays(this,t);var n=Object.keys(a);return!!n.length&&(1===n.length&&r?a[n[0]]:a)},moment.fn.holidays=function(e,t){return this.holiday(e,t)},moment.fn.isHoliday=function(e,t){var a,r,o=[];if(r=e?(e=arrayify(e),a=this.holiday(e,t),!1):(a=getAllHolidays(this,t),!0),!a)return!1;for(var n in a)if(a.hasOwnProperty(n))for(var i=arrayify(a[n]),s=0;s<i.length;s++)if(this.isSame(i[s],"day")){if(!r)return!0;o.push(n)}return!!o.length&&(1===o.length?o[0]:o)},moment.fn.previousHoliday=function(e,t){return holidayLoop(this,e,!1,t)},moment.fn.previousHolidays=function(e,t){return this.previousHoliday(e,t)},moment.fn.nextHoliday=function(e,t){return holidayLoop(this,e,!0,t)},moment.fn.nextHolidays=function(e,t){return this.nextHoliday(e,t)},moment.fn.holidaysBetween=function(e,t){e=e||new Date,e=moment(e).subtract(1,"day");for(var a=getAllHolidays(this,t),r=moment(this),o=r.year(),n=[],i=0;i<e.diff(this,"days")&&(r.add(1,"day"),r.year()!==o&&(a=getAllHolidays(r,t),o=r.year()),Object.keys(a).length);i++)for(var s in a){for(var d=!1,y=arrayify(a[s]),l=0;l<y.length;l++)if(r.isSame(y[l],"day")){n.push(y[l]),d=!0;break}if(d)break}return!!n.length&&n},moment.holidays={active:{},active_last:{}},moment.modifyHolidays={set:function(e,t){var a={};if(e.constructor===Array){for(var r=[],o=0;o<e.length;o++){var n=findHoliday(this,e[o],null,!1);n&&(r=r.concat(n))}if(r.length)for(var i in a=merge(moment.holidays.active))a.hasOwnProperty(i)&&(~r.indexOf(i)||delete a[i])}else if("string"==typeof e){var s=getLocale(e);if(s)if(t){var d=findHolidays(this,t,!1,!1,s);for(o=0;o<d.length;o++)a[d[o]]=merge(s[d[o]])}else a=merge(s)}else a=e;return!Object.keys(a).length&&e!==a||Object.is(moment.holidays.active,a)||(moment.holidays.active_last=merge(moment.holidays.active),moment.holidays.active=a),this},add:function(e,t){if("string"==typeof e){var a=getLocale(e);if(e={},a)if(t)for(var r=findHolidays(this,t,!1,!1,a),o=0;o<r.length;o++)e[r[o]]=merge(a[r[o]]);else e=a}return Object.keys(e).length&&(moment.holidays.active_last=merge(moment.holidays.active),moment.holidays.active=merge(moment.holidays.active,e)),this},remove:function(e){e=arrayify(e);var t=findHolidays(this,e,!1,!1),a=merge(moment.holidays.active);if(t)for(var r=0;r<t.length;r++)delete a[t[r]];return Object.is(moment.holidays.active,a)||(moment.holidays.active_last=merge(moment.holidays.active),moment.holidays.active=a),this},undo:function(){var e=merge(moment.holidays.active);return moment.holidays.active=merge(moment.holidays.active_last),moment.holidays.active_last=e,this},load:function(e){e=arrayify(e);for(var t=0;t<e.length;t++)getLocale(e[t]);return this},extendParser:function(e){return parserExtensions.push(e),this}},moment}),
//! moment-holiday.js locale configuration
//! locale : United States
//! author : Kodie Grantham : https://github.com/kodie
function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("moment")):"function"==typeof define&&define.amd?define(["moment"],t):t((e=e||self).moment)}(this,function(e){return(e=e&&e.hasOwnProperty("default")?e.default:e).holidays.united_states={"New Year's Day":{date:"1/1",keywords_n:["eve"]},"Martin Luther King Jr. Day":{date:"1/(1,3)",keywords:["mlk"]},"Valentine's Day":{date:"2/14"},"Washington's Birthday":{date:"2/(1,3)",keywords:["george","president","day"]},"Saint Patrick's Day":{date:"3/17",keywords:["st[\\s\\.]","paddy","patty"]},"Good Friday":{date:"easter-2",keywords_y:["good","friday"]},"Easter Sunday":{date:"easter",keywords_y:["easter"],keywords:["sunday"]},"Memorial Day":{date:"5/(1,-1)"},"Mother's Day":{date:"5/(0,2)",keywords:["mom"]},"Father's Day":{date:"6/(0,3)",keywords:["dad"]},"Independence Day":{date:"7/4",keywords:["4th","fourth","july"]},"Labor Day":{date:"9/(1,1)",keywords:["labour"]},"Columbus Day":{date:"10/(1,2)",keywords:["christopher"]},Halloween:{date:"10/31"},"Veteran's Day":{date:"11/11",keywords:["vet"]},"Thanksgiving Day":{date:"11/(4,4)",keywords:["thanks","turkey"],keywords_n:["after"]},"Day after Thanksgiving":{date:"11/(5,4)",keywords:["thanks","turkey"],keywords_y:["after"]},"Christmas Eve":{date:"12/24",keywords:["christ","x-?mas"],keywords_y:["eve"]},"Christmas Day":{date:"12/25",keywords:["christ","x-?mas"],keywords_n:["eve"]},"New Year's Eve":{date:"12/31",keywords_y:["year","eve"]}},e}),
//! moment-holiday.js locale configuration
//! locale : Easter Related Holidays
//! author : Kodie Grantham : https://github.com/kodie
function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("moment")):"function"==typeof define&&define.amd?define(["moment"],t):t((e=e||self).moment)}(this,function(y){(y=y&&y.hasOwnProperty("default")?y.default:y).holidays.easter={"Ash Wednesday":{date:"easter-46"},Lent:{date:"easter-46|easter-3"},"Maundy Thursday":{date:"easter-3",keywords_y:["maundy","thursday"]},"Good Friday":{date:"easter-2",keywords_y:["good","friday"]},"Holy Saturday":{date:"easter-1",keywords_y:["holy","saturday"]},"Easter Sunday":{date:"easter",keywords_y:["easter"],keywords:["sunday"]},"Easter Monday":{date:"easter+1",keywords_y:["easter","monday"]},"Ascension Day":{date:"easter+39"},"Pentecost Sunday":{date:"easter+49",keywords_y:["pentecost"],keywords:["sunday"]},"Whit Monday":{date:"easter+50",keywords_y:["whit"],keywords:["monday"]},"Corpus Christi":{date:"easter+60",keywords:["feast"]}};function n(e){var t=Math.floor(e/100),a=e-19*Math.floor(e/19),r=Math.floor((t-17)/25),o=t-Math.floor(t/4)-Math.floor((t-r)/3)+19*a+15;o-=30*Math.floor(o/30),o-=Math.floor(o/28)*(1-Math.floor(o/28)*Math.floor(29/(o+1))*Math.floor((21-a)/11));var n=e+Math.floor(e/4)+o+2-t+Math.floor(t/4),i=o-(n-=7*Math.floor(n/7)),s=3+Math.floor((40+i)/44),d=28+i-31*Math.floor(s/4);return y([e,s-1,d])}return y.modifyHolidays.extendParser(function(e,t){if(~t.indexOf("easter")){var a=t.split("|"),r=[];for(i=0;i<a.length;i++)if("easter"===a[i].substring(0,6)){var o=n(e.year());if("-"===a[i].charAt(6)&&o.subtract(a[i].substring(7),"days"),"+"===a[i].charAt(6)&&o.add(a[i].substring(7),"days"),1===a.length)return o;r.push(o.format("M/D"))}else r.push(a[i]);if(r.length)return r.join("|")}}),y}),
//! Set default locales
function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("moment")):"function"==typeof define&&define.amd?define(["moment"],t):t((e=e||self).moment)}(this,function(e){return(e=e&&e.hasOwnProperty("default")?e.default:e).modifyHolidays.add("United States"),e});
//# sourceMappingURL=moment-holiday-us.min.js.map
