//! moment-holiday.js
//! version : 1.5.1
//! author : Kodie Grantham
//! license : MIT
//! https://github.com/kodie/moment-holiday
(function(){var e=require("moment"),t=[],r=function(r,a,n){for(var i,o=[],s=0;s<t.length;s++){var h=t[s](r,a);(h||!1===h)&&(i=h)}if(!1===i)return!1;if("string"==typeof i?a=i:i&&(o=i),!e.isMoment(o)&&!o.length&&a.charAt(0).match(/[0-9(]/)){var l=!1,f=a.split("|");f.length>1&&(l=!0),f.length>2&&(f=[f[0],f[1]]);for(s=0;s<f.length;s++){var y=e(r),u=f[s].split("/");if(1===u.length||2===u.length&&"("!==u[1].charAt(0)&&4===u[1].length){var c=f[s];s=-1,f=[];for(var v=1;v<13;v++)f.push(v+"/"+c)}else if(u.length>2&&y.year(parseInt(u[2])),y.month(parseInt(u[0])-1),"("===u[1].charAt(0)){var g=u[1].slice(1,-1).split(","),p=parseInt(g[0]),w=parseInt(g[1]),k=e(y).startOf("month"),m=e(y).endOf("month").diff(k,"days")+1,b=[];if(g[1]&&"["===g[1].charAt(0)){var O=!0;(w=parseInt(g[1].slice(1,-1)))<0&&(O=!1,w=parseInt(g[1].slice(2,-1))),k=e(y).date(w);for(var M=0;M<7;M++){if(k.day()===p){o.push(e(k));break}O?k.add(1,"day"):k.subtract(1,"day")}continue}for(var _=0;_<m;_++)k.day()===p&&b.push(e(k)),k.add(1,"day");if(!w){o=o.concat(b);continue}y=w<0?b[b.length+w]:b[w-1],o.push(y)}else o.push(y.date(u[1]))}if(l&&o.length>1){var j=o[1].diff(o[0],"days");if(j>1){var x=e(o[0]);o=[o[0]];for(s=0;s<j;s++)x.add(1,"day"),o.push(e(x))}}}o=d(o);for(s=0;s<o.length;s++)e.isMoment(o[s])?(n&&(0===o[s].day()&&(o[s]=o[s].add(1,"day")),6===o[s].day()&&(o[s]=o[s].subtract(1,"day"))),o[s]=o[s].startOf("day")):delete o[s];return!!o.length&&(1===o.length?o[0]:o)},a=function(e,t){var r=[];t=d(t);for(var a=0;a<t.length;a++){var n=e.match(new RegExp(t[a],"gi"));n&&(r=r.concat(n))}return r},n=function(t,n,i,o,s){var l={},d=[],y={};if(h=s||e.holidays.active,h.hasOwnProperty(n))d.push(n);else if(fk=f(n,h))d.push(fk);else{for(var u in h)if(h.hasOwnProperty(u)){if(l[u]=a(n,u.split(/[\s,.-]+/).filter(function(e){return e.length>2})).length,h[u].keywords_n){if(a(n,h[u].keywords_n).length){l[u]=0;continue}}if(h[u].keywords_y){var c=a(n,h[u].keywords_y);if(!c||c.length!==h[u].keywords_y.length){l[u]=0;continue}l[u]+=c.length}if(h[u].keywords){var v=a(n,h[u].keywords);if(!v)continue;l[u]+=v.length}}for(var g in l)l[g]&&l.hasOwnProperty(g)&&(d.length&&l[g]!==l[d[0]]?l[g]>l[d[0]]&&(d=[g]):d.push(g))}if(!d.length)return!1;if(!1===o)return d;for(var p=0;p<d.length;p++){var w=r(t,h[d[p]].date,i);w&&(y[d[p]]=w)}return!!Object.keys(y).length&&y},i=function(t,r,a,i,o){var s=[];i&&(s={}),r=d(r),o||(o=e.holidays.active);for(var h=0;h<r.length;h++){var l=n(t,r[h],a,i,o);l&&(s=i?y(s,l):s.concat(l))}return s},o=function(t,a){var n=e.holidays.active,i={};for(var o in n)n.hasOwnProperty(o)&&(td=r(t,n[o].date,a))&&(i[o]=td);return i},s=function(t){if(regions=t.split("/"),t=regions[0].toLowerCase().replace(" ","_"),regions.shift(),!e.holidays[t])try{require("../locale/"+t)}catch(e){}return!!e.holidays[t]&&(regions.length?function(t,r){var a=e.holidays[t],n={};if(a)for(var i=0;i<r.length;i++){var o=r[i].toLowerCase(),s=e.holidays[t+"/"+o];s={};for(var h in a)if(a.hasOwnProperty(h)){var l=a[h].regions||[],d=a[h].regions_n||[];l.length&&l.join().toLowerCase().split(),d.length&&d.join().toLowerCase().split(),(!l.length&&!d.length||l.length&&~l.indexOf(o)||d.length&&!~d.indexOf(o))&&(s[h]=a[h])}s&&(n=y(n,s))}return!!Object.keys(n).length&&n}(t,regions):e.holidays[t])},l=function(t,r,a,n){r||(r=1);for(var i=o(t,n),s=e(t),h=t.year(),l=[],f=0;f<r;f++)for(var y=e(s);;){var u=!1;if(a?y.add(1,"day"):y.subtract(1,"day"),y.year()!==h&&(i=o(y,n),h=y.year()),!Object.keys(i).length){u=!0;break}for(var c in i)if(i.hasOwnProperty(c)){for(var v=!1,g=d(i[c]),p=0;p<g.length;p++)if(y.isSame(g[p],"day")){l.push(g[p]),s=e(y),v=!0;break}if(v){u=!0;break}}if(u)break}return!!l.length&&(1===l.length?l[0]:l)},d=function(e){return e&&e.constructor!==Array?[e]:e},f=function(e,t){t.constructor===Object&&(t=Object.keys(t));for(var r=0;r<t.length;r++)if(e.toLowerCase()===t[r].toLowerCase())return t[r];return!1},y=function(e,t){return Object.assign({},e,t)};e.fn.holiday=function(t,r){e.holidays.active;var a={},i=!1;if(t){t.constructor!==Array&&(i=!0,t=[t]);for(var s=0;s<t.length;s++)(td=n(this,t[s],r))&&(a=Object.assign({},a,td))}else a=o(this,r);var h=Object.keys(a);return!!h.length&&(1===h.length&&i?a[h[0]]:a)},e.fn.holidays=function(e,t){return this.holiday(e,t)},e.fn.isHoliday=function(e,t){var r,a,n=[];if(e?(e=d(e),r=this.holiday(e,t),a=!1):(r=o(this,t),a=!0),!r)return!1;for(var i in r)if(r.hasOwnProperty(i))for(var s=d(r[i]),h=0;h<s.length;h++)if(this.isSame(s[h],"day")){if(!a)return!0;n.push(i)}return!!n.length&&(1===n.length?n[0]:n)},e.fn.previousHoliday=function(e,t){return l(this,e,!1,t)},e.fn.previousHolidays=function(e,t){return this.previousHoliday(e,t)},e.fn.nextHoliday=function(e,t){return l(this,e,!0,t)},e.fn.nextHolidays=function(e,t){return this.nextHoliday(e,t)},e.fn.holidaysBetween=function(t,r){t||(t=new Date),t=e(t).subtract(1,"day");for(var a=o(this,r),n=e(this),i=n.year(),s=[],h=0;h<t.diff(this,"days")&&(n.add(1,"day"),n.year()!==i&&(a=o(n,r),i=n.year()),Object.keys(a).length);h++)for(var l in a){for(var f=!1,y=d(a[l]),u=0;u<y.length;u++)if(n.isSame(y[u],"day")){s.push(y[u]),f=!0;break}if(f)break}return!!s.length&&s},e.holidays={active:{},active_last:{}},e.modifyHolidays={set:function(t,r){var a={};if(t.constructor===Array){for(var o=[],h=0;h<t.length;h++){var l=n(this,t[h],null,!1);l&&(o=o.concat(l))}if(o.length){a=y(e.holidays.active);for(var d in a)a.hasOwnProperty(d)&&(~o.indexOf(d)||delete a[d])}}else if("string"==typeof t){var f=s(t);if(f)if(r)for(var u=i(this,r,!1,!1,f),h=0;h<u.length;h++)a[u[h]]=y(f[u[h]]);else a=y(f)}else a=t;return!Object.keys(a).length&&t!==a||Object.is(e.holidays.active,a)||(e.holidays.active_last=y(e.holidays.active),e.holidays.active=a),this},add:function(t,r){if("string"==typeof t){var a=s(t);if(t={},a)if(r)for(var n=i(this,r,!1,!1,a),o=0;o<n.length;o++)t[n[o]]=y(a[n[o]]);else t=a}return Object.keys(t).length&&(e.holidays.active_last=y(e.holidays.active),e.holidays.active=y(e.holidays.active,t)),this},remove:function(t){t=d(t);var r=i(this,t,!1,!1),a=y(e.holidays.active);if(r)for(var n=0;n<r.length;n++)delete a[r[n]];return Object.is(e.holidays.active,a)||(e.holidays.active_last=y(e.holidays.active),e.holidays.active=a),this},undo:function(){var t=y(e.holidays.active);return e.holidays.active=y(e.holidays.active_last),e.holidays.active_last=t,this},load:function(e){e=d(e);for(var t=0;t<e.length;t++)s(e[t]);return this},extendParser:function(e){return t.push(e),this}},null!=("undefined"!=typeof module&&null!==module?module.exports:void 0)&&(module.exports=e)}).call(this),
//! moment-holiday.js locale configuration
//! locale : Easter Related Holidays
//! author : Kodie Grantham : https://github.com/kodie
function(){var e=require("moment");e.holidays.easter={"Ash Wednesday":{date:"easter-46"},Lent:{date:"easter-46|easter-3"},"Maundy Thursday":{date:"easter-3",keywords_y:["maundy","thursday"]},"Good Friday":{date:"easter-2",keywords_y:["good","friday"]},"Holy Saturday":{date:"easter-1",keywords_y:["holy","saturday"]},"Easter Sunday":{date:"easter",keywords_y:["easter"],keywords:["sunday"]},"Easter Monday":{date:"easter+1",keywords_y:["easter","monday"]},"Ascension Day":{date:"easter+39"},"Pentecost Sunday":{date:"easter+49",keywords_y:["pentecost"],keywords:["sunday"]},"Whit Monday":{date:"easter+50",keywords_y:["whit"],keywords:["monday"]},"Corpus Christi":{date:"easter+60",keywords:["feast"]}};e.modifyHolidays.extendParser(function(t,r){if(~r.indexOf("easter")){var a=r.split("|"),n=[];for(i=0;i<a.length;i++)if("easter"===a[i].substring(0,6)){var o=function(t){var r=Math.floor(t/100),a=t-19*Math.floor(t/19),n=Math.floor((r-17)/25),i=r-Math.floor(r/4)-Math.floor((r-n)/3)+19*a+15;i-=30*Math.floor(i/30),i-=Math.floor(i/28)*(1-Math.floor(i/28)*Math.floor(29/(i+1))*Math.floor((21-a)/11));var o=t+Math.floor(t/4)+i+2-r+Math.floor(r/4),s=i-(o-=7*Math.floor(o/7)),h=3+Math.floor((s+40)/44),l=s+28-31*Math.floor(h/4);return e([t,h-1,l])}(t.year());if("-"===a[i].charAt(6)&&o.subtract(a[i].substring(7),"days"),"+"===a[i].charAt(6)&&o.add(a[i].substring(7),"days"),1===a.length)return o;n.push(o.format("M/D"))}else n.push(a[i]);if(n.length)return n.join("|")}}),null!=("undefined"!=typeof module&&null!==module?module.exports:void 0)&&(module.exports=e)}.call(this),
//! Set default locales
function(){require("moment").modifyHolidays.add("locale/easter.js")}.call(this);
//# sourceMappingURL=moment-holiday-us.min.js.map
