{"version":3,"sources":["moment-holiday.js"],"names":["global","factory","exports","module","require","define","amd","self","moment","this","hasOwnProperty","parserExtensions","parseHoliday","date","adjust","pd","days","i","length","pe","isMoment","charAt","match","range","dates","split","m","ds","td","ii","push","year","parseInt","month","w","slice","wd","dt","d","startOf","limit","endOf","diff","wds","forward","wi","day","add","subtract","ai","concat","di","arrayify","keywordMatches","str","kw","f","RegExp","findHoliday","holiday","parse","holidayObj","pt","wn","obj","h","holidays","active","fk","findKey","hd","filter","keywords_n","keywords_y","matchesY","keywords","matches","Object","keys","findHolidays","find","merge","getAllHolidays","compileRegions","locale","regions","o","r","toLowerCase","l","y","n","regions_n","join","indexOf","getLocale","replace","shift","process","env","NODE_ENV","eval","holidayLoop","count","b","b2","ha","hi","isSame","arr","constructor","Array","o1","o2","assign","fn","single","dKeys","isHoliday","returnTitle","hs","previousHoliday","previousHolidays","nextHoliday","nextHolidays","holidaysBetween","Date","active_last","modifyHolidays","set","specifics","newH","k","is","remove","undo","c","load","locales","extendParser","func"],"mappings":"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","file":"moment-holiday.min.js","sourcesContent":["//! moment-holiday.js\n//! version : 1.5.1\n//! author : Kodie Grantham\n//! license : MIT\n//! https://github.com/kodie/moment-holiday\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory(require('moment')) :\n  typeof define === 'function' && define.amd ? define(['moment'], factory) :\n  (global = global || self, factory(global.moment)); // jshint ignore:line\n}(this, (function (moment) {\n\n  moment = moment && moment.hasOwnProperty('default') ? moment['default'] : moment;\n\n  var parserExtensions = [];\n\n  var parseHoliday = function(self, date, adjust) {\n    var days = [], pd;\n\n    for (var i = 0; i < parserExtensions.length; i++) {\n      var pe = parserExtensions[i](self, date);\n      if (pe || pe === false) { pd = pe; }\n    }\n\n    if (pd === false) { return false; }\n    if (typeof pd === 'string') { date = pd; } else if (pd) { days = pd; }\n\n    if (!moment.isMoment(days) && !days.length && date.charAt(0).match(/[0-9(]/)) {\n      var range = false;\n      var dates = date.split('|');\n\n      if (dates.length > 1) { range = true; }\n      if (dates.length > 2) { dates = [dates[0], dates[1]]; }\n\n      for (var i = 0; i < dates.length; i++) {\n        var m = moment(self);\n        var ds = dates[i].split('/');\n\n        if (ds.length === 1 || (ds.length === 2 && ds[1].charAt(0) !== '(' && ds[1].length === 4)) {\n          var td = dates[i];\n          i = -1;\n          dates = [];\n          for (var ii = 1; ii < 13; ii++) { dates.push(ii + '/' + td); }\n          continue;\n        }\n\n        if (ds.length > 2) { m.year(parseInt(ds[2])); }\n\n        m.month((parseInt(ds[0]) - 1));\n\n        if (ds[1].charAt(0) === '(') {\n          var w = ds[1].slice(1, -1).split(',');\n          var wd = parseInt(w[0]);\n          var dt = parseInt(w[1]);\n          var d = moment(m).startOf('month');\n          var limit = (moment(m).endOf('month').diff(d, 'days') + 1);\n          var wds = [];\n\n          if (w[1] && w[1].charAt(0) === '[') {\n            var forward = true;\n            dt = parseInt(w[1].slice(1, -1));\n\n            if (dt < 0) {\n              forward = false;\n              dt = parseInt(w[1].slice(2, -1));\n            }\n\n            d = moment(m).date(dt);\n\n            for (var wi = 0; wi < 7; wi++) {\n              if (d.day() === wd) { days.push(moment(d)); break; }\n\n              if (forward) {\n                d.add(1, 'day');\n              } else {\n                d.subtract(1, 'day');\n              }\n            }\n\n            continue;\n          }\n\n          for (var ai = 0; ai < limit; ai++) {\n            if (d.day() === wd) { wds.push(moment(d)); }\n            d.add(1, 'day');\n          }\n\n          if (!dt) {\n            days = days.concat(wds);\n            continue;\n          } else if (dt < 0) {\n            m = wds[wds.length + dt];\n          } else {\n            m = wds[dt - 1];\n          }\n\n          days.push(m);\n        } else {\n          days.push(m.date(ds[1]));\n        }\n      }\n\n      if (range && days.length > 1) {\n        var diff = days[1].diff(days[0], 'days');\n\n        if (diff > 1) {\n          var di = moment(days[0]);\n          days = [days[0]];\n\n          for (var i = 0; i < diff; i++) {\n            di.add(1, 'day');\n            days.push(moment(di));\n          }\n        }\n      }\n    }\n\n    days = arrayify(days);\n\n    for (var i = 0; i < days.length; i++) {\n      if (!moment.isMoment(days[i])) { delete(days[i]); continue; }\n\n      if (adjust) {\n        if (days[i].day() === 0) { days[i] = days[i].add(1, 'day'); }\n        if (days[i].day() === 6) { days[i] = days[i].subtract(1, 'day'); }\n      }\n\n      days[i] = days[i].startOf('day');\n    }\n\n    if (!days.length) { return false; }\n    if (days.length === 1) { return days[0]; }\n\n    return days;\n  };\n\n  var keywordMatches = function(str, kw) {\n    var m = [];\n    kw = arrayify(kw);\n\n    for (var i = 0; i < kw.length; i++) {\n      var f = str.match(new RegExp(kw[i], 'gi'));\n      if (f) { m = m.concat(f); }\n    }\n\n    return m;\n  };\n\n  var findHoliday = function(self, holiday, adjust, parse, holidayObj) {\n    var pt = {};\n    var wn = [];\n    var obj = {};\n\n    h = holidayObj || moment.holidays.active;\n\n    if (h.hasOwnProperty(holiday)) {\n      wn.push(holiday);\n    } else if (fk = findKey(holiday, h)) {\n      wn.push(fk);\n    } else {\n      for (var hd in h) {\n        if (!h.hasOwnProperty(hd)) { continue; }\n\n        pt[hd] = keywordMatches(holiday, hd.split(/[\\s,.-]+/).filter(function(w){ return w.length > 2; })).length;\n\n        if (h[hd].keywords_n) {\n          var matchesN = keywordMatches(holiday, h[hd].keywords_n);\n          if (matchesN.length) {\n            pt[hd] = 0;\n            continue;\n          }\n        }\n\n        if (h[hd].keywords_y) {\n          var matchesY = keywordMatches(holiday, h[hd].keywords_y);\n          if (matchesY && matchesY.length === h[hd].keywords_y.length) {\n            pt[hd] += matchesY.length;\n          } else {\n            pt[hd] = 0;\n            continue;\n          }\n        }\n\n        if (h[hd].keywords) {\n          var matches = keywordMatches(holiday, h[hd].keywords);\n          if (matches) {\n            pt[hd] += matches.length;\n          } else {\n            continue;\n          }\n        }\n      }\n\n      //console.log(pt); // Display scores\n\n      for (var w in pt) {\n        if (!pt[w] || !pt.hasOwnProperty(w)) { continue; }\n        if (!wn.length || pt[w] === pt[wn[0]]) { wn.push(w); continue; }\n        if (pt[w] > pt[wn[0]]) { wn = [w]; continue; }\n      }\n    }\n\n    if (!wn.length) { return false; }\n\n    if (parse !== false) {\n      for (var i = 0; i < wn.length; i++) {\n        var d = parseHoliday(self, h[wn[i]].date, adjust);\n        if (d) { obj[wn[i]] = d; }\n      }\n\n      if (Object.keys(obj).length) { return obj; }\n    } else {\n      return wn;\n    }\n\n    return false;\n  };\n\n  var findHolidays = function(self, holidays, adjust, parse, holidayObj) {\n    var h = [];\n    if (parse) { h = {}; }\n\n    holidays = arrayify(holidays);\n    if (!holidayObj) { holidayObj = moment.holidays.active; }\n\n    for (var i = 0; i < holidays.length; i++) {\n      var find = findHoliday(self, holidays[i], adjust, parse, holidayObj);\n\n      if (find) {\n        if (parse) {\n          h = merge(h, find);\n        } else {\n          h = h.concat(find);\n        }\n      }\n    }\n\n    return h;\n  };\n\n  var getAllHolidays = function(self, adjust) {\n    var h = moment.holidays.active;\n    var d = {};\n\n    for (var hd in h) {\n      if (!h.hasOwnProperty(hd)) { continue; }\n      if (td = parseHoliday(self, h[hd].date, adjust)) { d[hd] = td; }\n    }\n\n    return d;\n  };\n\n  var compileRegions = function(locale, regions) {\n    var h = moment.holidays[locale];\n    var o = {};\n\n    if (h) {\n      for (var i = 0; i < regions.length; i++) {\n        var r = regions[i].toLowerCase();\n        var l = moment.holidays[locale + '/' + r];\n        l = {};\n\n        for (var hd in h) {\n          if (!h.hasOwnProperty(hd)) { continue; }\n\n          var y = h[hd].regions || [];\n          var n = h[hd].regions_n || [];\n\n          if (y.length) { y.join().toLowerCase().split(); }\n          if (n.length) { n.join().toLowerCase().split(); }\n\n          if ((!y.length && !n.length) || (y.length && ~y.indexOf(r)) || (n.length && !~n.indexOf(r))) {\n            l[hd] = h[hd];\n          }\n        }\n\n        if (l) { o = merge(o, l); }\n      }\n    }\n\n    if (!Object.keys(o).length) { return false; }\n\n    return o;\n  };\n\n  var getLocale = function(locale) {\n    regions = locale.split('/');\n    locale = regions[0].toLowerCase().replace(' ', '_');\n    regions.shift();\n\n    if (!moment.holidays[locale] && typeof require != 'undefined') {\n      if (typeof process != 'undefined' && process.env.NODE_ENV == 'test') {\n        eval('require')('./locale/' + locale); // jshint ignore:line\n      } else {\n        require('../locale/' + locale);\n      }\n    }\n\n    if (moment.holidays[locale]) {\n      if (regions.length) { return compileRegions(locale, regions); }\n      return moment.holidays[locale];\n    }\n\n    return false;\n  };\n\n  var holidayLoop = function(self, count, forward, adjust) {\n    if (!count) { count = 1; }\n\n    var h = getAllHolidays(self, adjust);\n    var l = moment(self);\n    var y = self.year();\n    var w = [];\n\n    for (var i = 0; i < count; i++) {\n      var d = moment(l);\n\n      while (true) {\n        var b = false;\n\n        if (forward) {\n          d.add(1, 'day');\n        } else {\n          d.subtract(1, 'day');\n        }\n\n        if (d.year() !== y) {\n          h = getAllHolidays(d, adjust);\n          y = d.year();\n        }\n\n        if (!Object.keys(h).length) { b = true; break; }\n\n        for (var hd in h) {\n          if (!h.hasOwnProperty(hd)) { continue; }\n\n          var b2 = false;\n          var ha = arrayify(h[hd]);\n\n          for (var hi = 0; hi < ha.length; hi++) {\n            if (d.isSame(ha[hi], 'day')) {\n              w.push(ha[hi]);\n              l = moment(d);\n              b2 = true;\n              break;\n            }\n          }\n\n          if (b2) { b = true; break; }\n        }\n\n        if (b) { break; }\n      }\n    }\n\n    if (!w.length) { return false; }\n    if (w.length === 1) { return w[0]; }\n\n    return w;\n  };\n\n  var arrayify = function(arr) {\n    if (arr && arr.constructor !== Array) { return [arr]; }\n    return arr;\n  };\n\n  var findKey = function(find, obj) {\n    if (obj.constructor === Object) { obj = Object.keys(obj); }\n    for (var i = 0; i < obj.length; i++) {\n      if (find.toLowerCase() === obj[i].toLowerCase()) { return obj[i]; }\n    }\n    return false;\n  };\n\n  var merge = function(o1, o2) {\n    return Object.assign({}, o1, o2);\n  };\n\n  moment.fn.holiday = function(holidays, adjust) {\n    var h = moment.holidays.active;\n    var d = {};\n    var single = false;\n\n    if (!holidays) {\n      d = getAllHolidays(this, adjust);\n    } else {\n      if (holidays.constructor !== Array) {\n        single = true;\n        holidays = [holidays];\n      }\n\n      for (var i = 0; i < holidays.length; i++) {\n        if (td = findHoliday(this, holidays[i], adjust)) { d = Object.assign({}, d, td); }\n      }\n    }\n\n    var dKeys = Object.keys(d);\n\n    if (!dKeys.length) { return false; }\n    if (dKeys.length === 1 && single) { return d[dKeys[0]]; }\n\n    return d;\n  };\n\n  moment.fn.holidays = function(holidays, adjust) {\n    return this.holiday(holidays, adjust);\n  };\n\n  moment.fn.isHoliday = function(holidays, adjust) {\n    var h, returnTitle, hs = [];\n\n    if (holidays) {\n      holidays = arrayify(holidays);\n      h = this.holiday(holidays, adjust);\n      returnTitle = false;\n    } else {\n      h = getAllHolidays(this, adjust);\n      returnTitle = true;\n    }\n\n    if (!h) { return false; }\n\n    for (var hd in h) {\n      if (!h.hasOwnProperty(hd)) { continue; }\n\n      var ha = arrayify(h[hd]);\n\n      for (var hi = 0; hi < ha.length; hi++) {\n        if (this.isSame(ha[hi], 'day')) {\n          if (returnTitle) {\n            hs.push(hd);\n          } else {\n            return true;\n          }\n        }\n      }\n    }\n\n    if (hs.length) {\n      if (hs.length === 1) { return hs[0]; }\n      return hs;\n    }\n\n    return false;\n  };\n\n  moment.fn.previousHoliday = function(count, adjust) {\n    return holidayLoop(this, count, false, adjust);\n  };\n\n  moment.fn.previousHolidays = function(count, adjust) {\n    return this.previousHoliday(count, adjust);\n  };\n\n  moment.fn.nextHoliday = function(count, adjust) {\n    return holidayLoop(this, count, true, adjust);\n  };\n\n  moment.fn.nextHolidays = function(count, adjust) {\n    return this.nextHoliday(count, adjust);\n  };\n\n  moment.fn.holidaysBetween = function(date, adjust) {\n    if (!date) { date = new Date(); }\n    date = moment(date).subtract(1, 'day');\n\n    var h = getAllHolidays(this, adjust);\n    var d = moment(this);\n    var y = d.year();\n    var w = [];\n\n    for (var i = 0; i < date.diff(this, 'days'); i++) {\n      d.add(1, 'day');\n\n      if (d.year() !== y) {\n        h = getAllHolidays(d, adjust);\n        y = d.year();\n      }\n\n      if (!Object.keys(h).length) { break; }\n\n      for (var hd in h) {\n        var b = false;\n        var ha = arrayify(h[hd]);\n\n        for (var hi = 0; hi < ha.length; hi++) {\n          if (d.isSame(ha[hi], 'day')) {\n            w.push(ha[hi]);\n            b = true;\n            break;\n          }\n        }\n\n        if (b) { break; }\n      }\n    }\n\n    if (!w.length) { return false; }\n\n    return w;\n  };\n\n  moment.holidays = {\n    active: {},\n    active_last: {}\n  };\n\n  moment.modifyHolidays = {\n    set: function(holidays, specifics) {\n      var newH = {};\n\n      if (holidays.constructor === Array) {\n        var hs = [];\n\n        for (var i = 0; i < holidays.length; i++) {\n          var d = findHoliday(this, holidays[i], null, false);\n          if (d) { hs = hs.concat(d); }\n        }\n\n        if (hs.length) {\n          newH = merge(moment.holidays.active);\n\n          for (var hd in newH) {\n            if (!newH.hasOwnProperty(hd)) { continue; }\n            if (!~hs.indexOf(hd)) { delete(newH[hd]); }\n          }\n        }\n      } else if (typeof holidays === 'string') {\n        var locale = getLocale(holidays);\n\n        if (locale) {\n          if (specifics) {\n            var k = findHolidays(this, specifics, false, false, locale);\n            for (var i = 0; i < k.length; i++) { newH[k[i]] = merge(locale[k[i]]); }\n          } else {\n            newH = merge(locale);\n          }\n        }\n      } else {\n        newH = holidays;\n      }\n\n      if ((Object.keys(newH).length || holidays === newH) && !Object.is(moment.holidays.active, newH)) {\n        moment.holidays.active_last = merge(moment.holidays.active);\n        moment.holidays.active = newH;\n      }\n\n      return this;\n    },\n\n    add: function(holidays, specifics) {\n      if (typeof holidays === 'string') {\n        var locale = getLocale(holidays);\n        holidays = {};\n\n        if (locale) {\n          if (specifics) {\n            var k = findHolidays(this, specifics, false, false, locale);\n            for (var i = 0; i < k.length; i++) { holidays[k[i]] = merge(locale[k[i]]); }\n          } else {\n            holidays = locale;\n          }\n        }\n      }\n\n      if (Object.keys(holidays).length) {\n        moment.holidays.active_last = merge(moment.holidays.active);\n        moment.holidays.active = merge(moment.holidays.active, holidays);\n      }\n\n      return this;\n    },\n\n    remove: function(holidays) {\n      holidays = arrayify(holidays);\n\n      var find = findHolidays(this, holidays, false, false);\n      var newH = merge(moment.holidays.active);\n\n      if (find) {\n        for (var i = 0; i < find.length; i++) { delete(newH[find[i]]); }\n      }\n\n      if (!Object.is(moment.holidays.active, newH)) {\n        moment.holidays.active_last = merge(moment.holidays.active);\n        moment.holidays.active = newH;\n      }\n\n      return this;\n    },\n\n    undo: function() {\n      var c = merge(moment.holidays.active);\n      moment.holidays.active = merge(moment.holidays.active_last);\n      moment.holidays.active_last = c;\n      return this;\n    },\n\n    load: function(locales) {\n      locales = arrayify(locales);\n      for (var i = 0; i < locales.length; i++) { getLocale(locales[i]); }\n      return this;\n    },\n\n    extendParser: function(func) {\n      parserExtensions.push(func);\n      return this;\n    }\n  };\n\n  return moment;\n\n})));\n"]}